<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1"/>
		<title> {TITLE_COMES_HERE} </title>
		<link rel="icon" type="image/png" href="favicon.png"/>

		<script type="text/javascript">
			function next (btn) { // 翻頁函數
				var cur,nxt,e,ut;

				// 找到下一頁的頁數
				if (btn) {
					while (true) {
						cur = btn.getAttribute("page");
						if( cur ) break;
						btn = btn.parentNode;
					}
					nxt = parseInt(cur)+1;
				}else nxt = 1

				// 取得下一頁的元素
				e = document.body.querySelector( '[page="'+nxt+'"]' );
				if (!e) {
					nxt = 1;
					e = document.body.querySelector( '[page="'+nxt+'"]' );
				}

				ut = e.getAttribute("speech");
				console.log(Piers.Speech);
				if(ut) Piers.Speech.speak(ut)

				// 捲動頁面
				e.scrollIntoView( {behavior:"smooth",block:"start"} );
			}
			function init_page ( ) {
				next();
			}
		</script>
		<script PierEntrance="init_page" PierXMods="Speech,StateMachine,Forms,Session" src="piers/init.js"></script>

		<style type="text/css">
			body {
				width:100%;
				height:100%;
				margin:0;
				padding:0;
				border:0;
			}
			.NxBar {
				text-align:center;
				margin:4px 16px;
				padding:4px;
				border:2px inset silver;
			}
			.ScPage {
				padding:16px 4px;
				text-align:center;
				overflow-x:hidden;
				overflow-y:auto;
				position:relative;
			}
			[page] { height:100vh; }
			[page="1"] { background:lightblue; }
			[page="2"] { background:lightgreen; }
			[page="3"] { background:lightpink; }
		</style>
	</head>
	<body style="overflow:hidden;">
		<div page="1">
			<div class="ScPage">
				<img src="favicon.png" style="height:70vmin;"/>
				<h1> Chihlee University of Technology </h1>
				<div class="NxBar">
					<button onclick="next(this)"> 開始 </button>
				</div>
			</div>
		</div>
		<div page="2" speech="這是表格的示範">
			<div class="ScPage">
				<h1> Page 2 comes here </h1>
				<table border="1" cellspacing="3" cellpadding="3" width="80%" align="center" style="background:white;">
					<thead>
						<tr>
							<th>第一欄</th>
							<th>第二欄</th>
							<th>第三欄</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>1.1</td>
							<td>1.2</td>
							<td>1.3</td>
						</tr>
						<tr>
							<td>2.1</td>
							<td>2.2</td>
							<td>2.3</td>
						</tr>
					</tbody>
				</table>	
				<br/>
				<div class="NxBar">
					<button onclick="next(this)"> 繼續 </button>
				</div>
			</div>
		</div>
		<div page="3">
			<div class="ScPage">
				<h1> Page 3 comes here </h1>
				<video width="400" controls>
  					<source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
  					<source src="https://www.w3schools.com/html/mov_bbb.ogg" type="video/ogg">
					Your browser does not support HTML video.
				</video>
				<div class="NxBar">
					<button onclick="next(this)"> 繼續 </button>
				</div>
			</div>
		</div>
		<div page="4" speech="Form">
			<div class="ScPage">
				<form onsubmit="return false" style="font-size:3vh;">
					<table align="center"><tr><td align="left">
						<tr>
							<td align="left" valign="top">
								Text:<input type="text" onchange="alert(this.value)"/><br/>
								Number:<input type="number" min="0" max="10" step="0.5" onchange="alert(this.value)"/><br/>
								Range:<input  type="range" min="0" max="10" step="0.5" onchange="alert(this.value)"/><br/>
								Date:<input type="date" onchange="alert(this.value)"/><br/>
								Time:<input type="time" onchange="alert(this.value)"/><br/>
								Date-Time:<input type="datetime-local" onchange="alert(this.value)"/><br/>
								Month:<input type="month" onchange="alert(this.value)"/><br/>
								Week:<input type="week" onchange="alert(this.value)"/><br/>
								Password:<input type="password" onchange="alert(this.value)"/><br/>
								Hidden:<input type="hidden" value="HIDEME"/></br/>
								Color:<input type="color" onchange="alert(this.value)"/><br/>
								Email:<input type="email" onchange="alert(this.value)"/><br/>
								Tel:<input type="tel" onchange="alert(this.value)"/><br/>
								Url:<input type="url" onchange="alert(this.value)"/><br/>
								Search:<input type="search" onchange="alert(this.value)"/><br/>
							</td>
							<td align="left" valign="top">
								Select:<select><option>Option 1</option><option>Option 2</option></select><br/>
								Checkbox:<input name="ABC" type="checkbox">A</input>,
								<input name="ABC" type="checkbox">B</input>,
								<input name="ABC" type="checkbox">C</input><br/>
								Radio:<input name="XYZ" type="radio">X</input>,
								<input name="XYZ" type="radio">Y</input>,
								<input name="XYZ" type="radio">Z</input><br/>
								TextArea:<textarea rows="3" columns="20"></textarea><br/>
								Files:<input type="file" onchange="alert(this.files)"/><br/>
								<input type="button" onclick="alert(this)" value="Button"/><br/>
								<input type="image" src="https://www.chihlee.edu.tw/var/file/0/1000/img/1430/logo.png" onclick="alert(this)" height="24px"/><br/>
								<input type="reset" onclick="alert(this)"/><br/>
								<input type="submit" onclick="alert(this)"/><br/>
							</td>
						</tr>
					</table>
				</form>
				<div class="NxBar">
					<button onclick="next(this)"> 繼續 </button>
				</div>
			</div>
		</div>
		<div page="5" speech="Canvas">
			<div class="ScPage">
				<canvas width="720" height="480">
					Your browser does not support the HTML canvas tag.
				</canvas>
				<img src="https://img.freepik.com/premium-vector/santa-claus-with-sack-gifts_160606-82.jpg?w=360" style="height:0;"/>
				<script>
					( function (state, profile, img){
						var root = document.currentScript.parentNode;
						if(!img) img = root.querySelector("img");
						function draw(){
							var cvs,ctx,grd;
							cvs = root.querySelector("canvas");
							ctx = cvs.getContext("2d");

							// Create gradient
							grd = ctx.createLinearGradient(150, 0, 300, 300);
							grd.addColorStop(0, profile[state][0]);
							grd.addColorStop(0.5, "green");
							grd.addColorStop(1, profile[state][1]);
	
							ctx.beginPath();
							ctx.moveTo(150, 0);
							ctx.lineTo(300, 300);
							ctx.bezierCurveTo(300,350,0,350,0, 300);
							ctx.closePath();
							ctx.fillStyle = grd;
							ctx.fill();
							ctx.stroke();

							grd = ctx.createLinearGradient(300, 50, 600, 100);
							grd.addColorStop(0, "red");
							grd.addColorStop(0.5, "green");
							grd.addColorStop(1, "blue");

							ctx.font = "60px Georgia";
							ctx.fillStyle = grd;
							ctx.fillText("Hello World", 300, 50);
							ctx.strokeStyle = "orange";
							ctx.strokeText("Hello World", 300, 50);

							ctx.drawImage(img,400,100,180,266);
							state=(state+1)%2;
						}
						img.addEventListener("load",function(){
							draw();
							setInterval(draw,1000);
						});
					}) (0, [["red","blue"],["blue","red"]]);
				</script>	
				<div class="NxBar">
					<button onclick="next(this)"> 繼續 </button>
				</div>
			</div>
		</div>
		<div page="6" speech="可縮放向量圖型 SVG">
			<div class="ScPage">
				<svg height="80vh" width="90vw" viewbox="0,0,720,360">
					<defs>
    					<linearGradient id="grd0" x1="0" x2="1" y1="0" y2="1">
      						<stop offset="0%" stop-color="red" />
      						<stop offset="70%" stop-color="green" />
      						<stop offset="100%" stop-color="blue" />
    					</linearGradient>
    					<linearGradient id="grd1" x1="0" x2="1" y1="0" y2="1">
      						<stop offset="0%" stop-color="blue" />
      						<stop offset="50%" stop-color="green" />
      						<stop offset="100%" stop-color="red" />
    					</linearGradient>
					</defs>
					<path id="Cone" d="M150 0 L300 300 C300 350 0 350 0 300 Z" fill="url(#grd1)" stroke="black"/>
					<text x="300" y="50" fill="url(#grd0)" font-size="60">Merry Christmas</text>
					<image id="Santa" onclick="Piers.Speech.speak('Hold hold hold Merry Christmas', locale='en-UK')" href="https://img.freepik.com/premium-vector/santa-claus-with-sack-gifts_160606-82.jpg?w=360" x="350" y="100" height="200" width="200" style="transition:x 1s"/>
				</svg> 
				<script>
					(function (state,profile) {
						setInterval(function(){
							document.getElementById("Cone").setAttribute("fill",profile[state][0]);
							document.getElementById("Santa").setAttribute("x",profile[state][1]);
							state = (state+1)%2;
						},1000);
					}) (0, [["url(#grd0)",320],["url(#grd1)",380]]);
				</script>
				<div class="NxBar">
					<button onclick="next(this)"> 繼續 </button>
				</div>
			</div>
		</div>
	</body>
</html>
